% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calibration-io.R
\name{save_sec_calibration}
\alias{save_sec_calibration}
\title{Save SEC Calibration Parameters}
\usage{
save_sec_calibration(
  prepped_recipe,
  file,
  step_number = NULL,
  metadata = NULL,
  overwrite = FALSE
)
}
\arguments{
\item{prepped_recipe}{A prepped recipe containing a trained calibration step
(e.g., \code{step_sec_conventional_cal}).}

\item{file}{Path to save the calibration file. File extension determines
format: \code{.rds} for RDS format (default), \code{.yaml} or \code{.yml} for YAML format.}

\item{step_number}{Integer. Which step to extract calibration from. If NULL
(default), finds the first calibration step automatically.}

\item{metadata}{Optional named list of additional metadata to include (e.g.,
\code{instrument}, \code{column}, \code{analyst}, \code{date}).}

\item{overwrite}{Logical. If TRUE, overwrite existing file. Default FALSE.}
}
\value{
Invisibly returns the calibration object that was saved.
}
\description{
Extracts calibration parameters from a prepped recipe and saves them to a
file for later reuse. This allows calibrations to be established once and
applied to future analyses without re-fitting.
}
\details{
The saved calibration includes:
\itemize{
\item Calibration fit coefficients and polynomial degree
\item Calibration range (valid elution range)
\item Fit diagnostics (RÂ², RMSE, per-standard results)
\item Original standards data
\item Settings (fit_type, extrapolation, log_output)
\item Timestamp and version information
\item Optional user-provided metadata
}

RDS format preserves all R objects exactly and is recommended for most uses.
YAML format is human-readable and useful for documentation or version control.
}
\examples{
\dontrun{
# Create and prep a calibration recipe
ps_standards <- data.frame(
  retention = c(12.5, 13.2, 14.1, 15.0, 16.2, 17.5),
  log_mw = c(6.0, 5.5, 5.0, 4.5, 4.0, 3.5)
)

rec <- recipe(~., data = sample_data) |>
  step_sec_conventional_cal(standards = ps_standards, fit_type = "cubic") |>
  prep()

# Save calibration for later use
save_sec_calibration(
  rec,
  "ps_calibration.rds",
  metadata = list(
    column = "PLgel 5um Mixed-C",
    instrument = "Agilent 1260",
    analyst = "JW"
  )
)
}
}
\seealso{
\code{\link[=load_sec_calibration]{load_sec_calibration()}}, \code{\link[=step_sec_conventional_cal]{step_sec_conventional_cal()}}

Other sec-calibration: 
\code{\link{load_sec_calibration}()},
\code{\link{sec_calibration_standards}},
\code{\link{sec_pmma_standards}},
\code{\link{sec_ps_standards}},
\code{\link{step_sec_broad_standard}()},
\code{\link{step_sec_conventional_cal}()},
\code{\link{step_sec_universal_cal}()}
}
\concept{sec-calibration}
