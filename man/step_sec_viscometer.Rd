% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/step_sec_viscometer.R
\name{step_sec_viscometer}
\alias{step_sec_viscometer}
\title{Differential Viscometer Processing for SEC}
\usage{
step_sec_viscometer(
  recipe,
  dp_col = NULL,
  ip_col = NULL,
  output_col = "specific_visc",
  viscometer_constant = 1,
  min_signal = 0.01,
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("sec_viscometer")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{dp_col}{Name of the differential pressure (DP) measure column.}

\item{ip_col}{Name of the inlet pressure (IP) measure column. If \code{NULL},
assumes a single-capillary viscometer where DP is directly proportional
to specific viscosity.}

\item{output_col}{Name for the specific viscosity output column.
Default is \code{"specific_visc"}.}

\item{viscometer_constant}{Instrument calibration constant. Default is 1.0.
Obtain from viscosity standard calibration.}

\item{min_signal}{Minimum signal threshold (as fraction of max) below which
viscosity is set to NA. Default is 0.01.}

\item{role}{Role for generated columns.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added, containing specific
viscosity at each elution point.
}
\description{
\code{step_sec_viscometer()} creates a \emph{specification} of a recipe step that
processes differential viscometer signals to calculate specific viscosity
at each elution point.
}
\details{
Differential viscometers measure the pressure difference between a sample
and reference capillary to determine solution viscosity. The specific
viscosity is calculated from the differential pressure (DP) and inlet
pressure (IP):

\deqn{\eta_{sp} = \frac{4 \cdot DP}{IP - 2 \cdot DP}}

For single-capillary viscometers or when IP is not available:
\deqn{\eta_{sp} = K \cdot DP}

where K is a calibration constant.

\strong{Viscometry in SEC:}
\itemize{
\item Provides specific viscosity at each MW slice
\item Combined with concentration gives intrinsic viscosity [eta]
\item Used for universal calibration: log([eta] * M) vs retention
\item Essential for branching analysis (g' = [eta]_branched / [eta]_linear)
}
}
\note{
For intrinsic viscosity calculation, use \code{step_sec_intrinsic_visc()} after
this step.
}
\examples{
\dontrun{
library(recipes)
library(measure)

# Process differential viscometer data
rec <- recipe(~., data = sec_visc_data) |>
  step_measure_input_long(dp_signal, location = vars(elution_time), col_name = "dp") |>
  step_measure_input_long(ip_signal, location = vars(elution_time), col_name = "ip") |>
  step_sec_baseline() |>
  step_sec_viscometer(dp_col = "dp", ip_col = "ip") |>
  prep()
}
}
\seealso{
\code{\link[=step_sec_intrinsic_visc]{step_sec_intrinsic_visc()}} for intrinsic viscosity calculation

Other sec-detectors: 
\code{\link{step_sec_concentration}()},
\code{\link{step_sec_intrinsic_visc}()},
\code{\link{step_sec_mals}()},
\code{\link{step_sec_ri}()},
\code{\link{step_sec_uv}()}
}
\concept{sec-detectors}
