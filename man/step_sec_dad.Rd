% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/step_sec_dad.R
\name{step_sec_dad}
\alias{step_sec_dad}
\title{Diode Array Detector Processing for SEC}
\usage{
step_sec_dad(
  recipe,
  measures = NULL,
  wavelengths = c(254, 280, 220),
  extinction_coefs = NULL,
  reference_wavelength = NULL,
  output_prefix = "uv",
  path_length = 1,
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("sec_dad")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{measures}{Character vector of DAD/UV measure columns. If \code{NULL}, the
step searches for measure columns containing "dad" or "uv".}

\item{wavelengths}{Numeric vector of wavelengths (nm) aligned with
\code{measures}. If \code{NULL}, attempts to parse wavelengths from \code{measures} names.}

\item{extinction_coefs}{Extinction coefficients by wavelength. Accepts a
named numeric vector (names are wavelengths), an unnamed vector aligned
with \code{wavelengths}, or a data frame with columns \code{wavelength} and
\code{extinction_coef}.}

\item{reference_wavelength}{Optional wavelength used as denominator for
ratio calculations.}

\item{output_prefix}{Prefix used to name output columns (e.g., \code{uv_254}).}

\item{path_length}{Path length of the flow cell in cm. Default is 1.0.}

\item{role}{Role for generated columns.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_sec_dad()} creates a \emph{specification} of a recipe step that processes
diode array detector (DAD) signals across multiple wavelengths. It can apply
wavelength-specific extinction coefficients and optionally compute ratios to
a reference wavelength.
}
\details{
For each wavelength, the signal can be normalized using the Beer-Lambert law:

\deqn{A = \varepsilon \times c \times l}

where A is absorbance (AU), epsilon is the extinction coefficient, and
l is the path length. When \code{reference_wavelength} is provided, the step
additionally creates ratio columns for each wavelength vs the reference.
}
\examples{
\dontrun{
library(recipes)
library(measure)

rec <- recipe(~., data = sec_triple_detect) |>
  step_measure_input_long(uv_254, location = vars(elution_time), col_name = "uv_254") |>
  step_measure_input_long(uv_280, location = vars(elution_time), col_name = "uv_280") |>
  step_sec_dad(
    measures = c("uv_254", "uv_280"),
    wavelengths = c(254, 280),
    extinction_coefs = c(`254` = 1.2, `280` = 1.0),
    reference_wavelength = 280
  ) |>
  prep()
}
}
\seealso{
Other sec-detectors: 
\code{\link{step_sec_concentration}()},
\code{\link{step_sec_dls}()},
\code{\link{step_sec_intrinsic_visc}()},
\code{\link{step_sec_lals}()},
\code{\link{step_sec_mals}()},
\code{\link{step_sec_rals}()},
\code{\link{step_sec_ri}()},
\code{\link{step_sec_uv}()},
\code{\link{step_sec_viscometer}()}
}
\concept{sec-detectors}
