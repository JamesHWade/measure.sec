% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/step_sec_detector_delay.R
\name{step_sec_detector_delay}
\alias{step_sec_detector_delay}
\title{Correct Inter-Detector Volume Delays}
\usage{
step_sec_detector_delay(
  recipe,
  reference = NULL,
  targets = NULL,
  delay_volumes = NULL,
  delay_times = NULL,
  flow_rate = 1,
  method = c("shift", "interpolate"),
  role = NA,
  trained = FALSE,
  skip = FALSE,
  id = recipes::rand_id("sec_detector_delay")
)
}
\arguments{
\item{recipe}{A recipe object.}

\item{reference}{Character name of the reference detector column (typically RI).
All other detectors will be aligned to this reference.}

\item{targets}{Character vector of detector column names to shift. If \code{NULL},
all measure columns except the reference will be shifted.}

\item{delay_volumes}{Named numeric vector of delay volumes in mL.
Names should match the target column names. Positive values indicate the
detector sees the sample after the reference.}

\item{delay_times}{Named numeric vector of delay times in minutes.
Alternative to \code{delay_volumes}. Requires \code{flow_rate} to be specified.}

\item{flow_rate}{Flow rate in mL/min. Required if using \code{delay_times}.}

\item{method}{Method for shifting signals:
\itemize{
\item \code{"shift"} (default): Simple index shift (fastest, slight edge effects)
\item \code{"interpolate"}: Linear interpolation (smoother, preserves signal shape)
}}

\item{role}{Not used by this step.}

\item{trained}{Logical indicating if the step has been trained.}

\item{skip}{Logical. Should the step be skipped when baking?}

\item{id}{Unique step identifier.}
}
\value{
An updated recipe with the new step added.
}
\description{
\code{step_sec_detector_delay()} creates a \emph{specification} of a recipe step that
corrects for volume delays between detectors in multi-detector SEC systems.
}
\details{
In multi-detector SEC systems, detectors are connected in series and separated
by tubing. This causes each detector to see the same analyte at different times.
For accurate molecular weight calculations that combine signals from multiple
detectors (e.g., RI + MALS for absolute MW), these delays must be corrected.

\strong{Typical detector order and delays:}
\itemize{
\item UV detector: Often first, minimal delay
\item RI detector: Common reference detector
\item MALS detector: Often has 0.1-0.3 mL delay from RI
\item Viscometer: May have 0.2-0.5 mL delay
}

\strong{Determining delay volumes:}
\enumerate{
\item Inject a narrow standard and record all detector signals
\item Measure the time offset between peak maxima
\item Convert to volume: delay_volume = time_offset Ã— flow_rate
}
}
\examples{
\dontrun{
library(recipes)
library(measure)

# Correct UV and MALS signals relative to RI
rec <- recipe(~., data = sec_triple_detect) |>
  step_measure_input_long(ri_signal, location = vars(elution_time), col_name = "ri") |>
  step_measure_input_long(uv_signal, location = vars(elution_time), col_name = "uv") |>
  step_measure_input_long(mals_signal, location = vars(elution_time), col_name = "mals") |>
  step_sec_detector_delay(
    reference = "ri",
    delay_volumes = c(uv = -0.05, mals = 0.15)
  ) |>
  prep()
}
}
\seealso{
Other sec-chromatography: 
\code{\link{step_sec_band_broadening}()},
\code{\link{step_sec_baseline}()},
\code{\link{step_sec_exclude_regions}()},
\code{\link{step_sec_integration_window}()},
\code{\link{step_sec_mw_averages}()},
\code{\link{step_sec_mw_distribution}()},
\code{\link{step_sec_mw_fractions}()},
\code{\link{step_sec_peaks_deconvolve}()},
\code{\link{step_sec_peaks_detect}()}
}
\concept{sec-chromatography}
